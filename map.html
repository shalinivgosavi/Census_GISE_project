<html>
    <head>
    <title>Map Visualization</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
    integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
    crossorigin=""/>
     <link href="css/styles.css" rel="stylesheet" />
</head>
<body>
 <div class="main">
  <div class="header">
    <!-- Select Area -->
   <div class="sub_part1">
    <div>
     <fieldset>
     <legend>Select Area</legend>
     <div>
        <input type="radio" id="huey" name="drone" value="huey"
             checked>
        <label for="huey">District</label>
     </div>
     <div>
        <input type="radio" id="dewey" name="drone" value="dewey">
        <label for="dewey">Taluka </label>
     </div>
     <div>
        <input type="radio" id="louie" name="drone" value="louie">
        <label for="louie">Vilage</label>
     </div>
     </fieldset>
   </div>
   </div>
    
    <!-- Select Sub Area -->
   <div class="sub_part2">
    <div>
     <fieldset>
     <legend>Select  Sub Area</legend>
     <div>
        <input type="radio" id="huey" name="drone" value="huey"
             checked>
        <label for="huey">District</label>
     </div>
     <div>
        <input type="radio" id="dewey" name="drone" value="dewey">
        <label for="dewey">Taluka </label>
     </div>
     <div>
        <p></p>
     </div>
     </fieldset>
   </div>
   </div>

   <!-- sub type -->
   <div class="sub_part3">
    <div>
     <fieldset>
     <legend>Select Type</legend>
     <div>
        <input type="radio" id="huey" name="drone" value="huey"
             checked>
        <label for="huey">Household</label>
     </div>
     <div>
        <input type="radio" id="dewey" name="drone" value="dewey">
        <label for="dewey">Demography</label>
     </div>
     <div>
        <p></p>
     </div>
     </fieldset>
   </div>
   </div>
   <!-- Select Caste -->
<div class="sub_part4">
    <div>
     <fieldset>
     <legend>Select Caste</legend>
     <div>
        <input type="radio" id="huey" name="drone" value="huey"
             checked>
        <label for="huey">General</label>
     </div>
     <div>
        <input type="radio" id="dewey" name="drone" value="dewey">
        <label for="dewey">SC </label>
     </div>
     <div>
        <input type="radio" id="louie" name="drone" value="louie">
        <label for="louie">ST</label>
     </div>
     </fieldset>
   </div>
   </div>
   
     <!-- Select Region -->
<div class="sub_part5">
    <div>
     <fieldset>
     <legend>Select Region</legend>
     <div>
        <input type="radio" id="huey" name="drone" value="huey"
             checked>
        <label for="huey">Total</label>
     </div>
     <div>
        <input type="radio" id="dewey" name="drone" value="dewey">
        <label for="dewey">Urban</label>
     </div>
     <div>
        <input type="radio" id="louie" name="drone" value="louie">
        <label for="louie">Rural</label>
     </div>
     </fieldset>
   </div>
   </div>


    </div>

    <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
        integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
        crossorigin=""></script>
        <script>
            var map = L.map('map').setView([51.505, -0.09], 13);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: 'Â© OpenStreetMap'
            }).addTo(map);


            // var wmsLayer = L.tileLayer.wms('https://geonode.communitygis.in/geoserver/geonode/wms',{
            //     layers:'geonode:Maharastra_Households_Taluka_Lavel_Cencus_201',
            //     format:'image/png',
            //     transparent:'true'
            // })
            // wmsLayer.addTo(map)

            //Maharastra_Households_Taluka_Lavel_Cencus
            fetch('https://geonode.communitygis.in/geoserver/geonode/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=geonode%3AMaharastra_Households_Taluka_Lavel_Cencus_201&outputFormat=application%2Fjson')
            .then(result=>result.json())
            .then((output)=>{
                wmsLayer = L.geoJson(output,{
                    onEachFeature:function(feature,layer){
                        // console.log(feature.properties)
                        // document.getElementById('ttt').innerHTML=feature.properties.taluka_nam
                        
                    },
                    
                })
                wmsLayer.addTo(map)
                wmsLayer.on('click',function(e){
                    // console.log(e.layer.feature.properties.taluka_nam)
                    // document.getElementById('ttt').innerHTML='District: '+e.layer.feature.properties.taluka_nam
                })
                console.log(wmsLayer)
                // wmsLayer.on('click',function(feature,layer){
                //     // console.log(feature.properties)
                // })
            })

            //SC_Taluka_Lavel_Rural

             fetch('https://maha.geonode.communitygis.in/geoserver/ows?service=WFS&version=1.0.0&request=GetFeature&typename=geonode%3ASC_Taluka_Lavel_Rural&outputFormat=json&srs=EPSG%3A4326&srsName=EPSG%3A4326')
            .then(result=>result.json())
            .then((output)=>{
                wmsLayer = L.geoJson(output,{
                    onEachFeature:function(feature,layer){
                        // console.log(feature.properties)
                        document.getElementById('ttt').innerHTML=feature.properties.taluka_nam
                        
                    },
                })
                wmsLayer.addTo(map)
                wmsLayer.on('click',function(e){
                    // console.log(e.layer.feature.properties.taluka_nam)
                    document.getElementById('ttt').innerHTML='District: '+e.layer.feature.properties.taluka_nam
                })
                console.log(wmsLayer)
                // wmsLayer.on('click',function(feature,layer){
                //     // console.log(feature.properties)
                // })
            })








            // fetch('https://geonode.communitygis.in/geoserver/geonode/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=geonode%3Aawc1&outputFormat=application%2Fjson')
          // .then(result=>result.json())
          // .then((output)=>{
          //   wms_layer1 = L.geoJson(output,{
          //     onEachFeature: function(feature, layer){
          //       layer.bindPopup(`<div >Beat No: ${feature.properties.beat_no}<br>Population: ${feature.properties.population}<br>Males: ${feature.properties.males}<br>Females: ${feature.properties.females}  </div>`)
          //     },
          //     filter: function(feature, layer){
          //       for(i of t){
          //         if(feature.properties.beat_no == i){
          //           return feature.properties.beat_no;
          //         }
          //       }
          //     }

          //   })
          //   wms_layer1.addTo(mymap)
          //   points.push(wms_layer1);
          // })










        </script>



   <button onclick="downloadtable()"><b>Download table</b></button>
                        <!-- <button onclick="generatePDF()">Download as PDF</button> -->
   
     <div class="row text-center" id="demography-dropdown"> 
         <div >
             <b>Select Demography Census Attribute:</b>
               <select id="attr-dropdown-demography" onchange="handleDropdownChangeDemography()"  id="attr-dropdown-demography"></select>
         </div>  
         
          <div class="row  text-center" > 
                        <div id="show-range"><b>Range</b></div>

                        <div id="show-selected-attribute"><b>Selected Attribute</b></div>
                       
                    </div>
                    <div style="text-align: center;"> 
                        <b>Select operator</b>
                        <select id="op">
                            <option value=">"><b>></b></option>
                            <option value="<"><b> < </b></option>
                            <option value="<="><b><=</b></option>
                            <option value=">="><b>>=</b></option>
                            <!-- <option value="<>"><></option> -->
                        </select>
                        <br>
                        <label ><b>Select Value:</b></label>
                        <input type="number" id="variable" name="variable">
                        <br>
                        <label for=""><b>Select color:</b></label>
                        <input type="color" id="color" name="color" value="#ff0000">
                        <br>
                        <button onclick="executequery()"><b>Execute query</b></button>
                    </div>

                    
                    <div style="text-align: center;" class="m-5">
                        <button onclick="downloadtable()"><b>Download table</b></button>
                        <!-- <button onclick="generatePDF()">Download as PDF</button> -->

                    </div>


   



    </body>
</html>